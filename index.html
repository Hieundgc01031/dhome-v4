<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>D HOME VER4</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/fontawesome-all.css">
    <script src="js/jquery-3.3.1.js"></script>
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.3.1.min.js"></script>

</head>
<body>
    <header>
        <div class="div-wifi">
            <img src="img/header-icon/Wifi.png"/>
        </div>
        <div class="div-time">
            <span>09:09</span>
        </div>
        <div class="div-battery">
            <p>100</p>
            <img align="middle" src="img/header-icon/Battery.png"/>
            <div class="clear-both"></div>
        </div>
    </header>

    <div class="wrap-content wrap-content-home" >
        <div class="div-background" style="background-image: url('img/background/background.jpg');"></div>
        <div class="div-the-weather">
            <div class="deg-current">
                18&#176;
            </div>
            <div class="div-img-weather">
                <img src="img/weather-icons-png/CloudRainThunder.png" height="235" width="203"/>
            </div>
            <div class="deg-low-hight">
                <p>Hà Nội</p>
                <span>&#8595;15&#176;</span>&nbsp;
                <span>&#8593;19&#176;</span>
            </div>
        </div>
        <div class="div-control-conditition">
            <div class="div-per-1">
                <svg viewbox="0 0 36 36" class="circular-chart">
                    <path class="circle" stroke-dasharray="75, 100" d="M18 2.0845
                        a 15.9155 15.9155 0 0 1 0 31.831
                        a 15.9155 15.9155 0 0 1 0 -31.831" />
                </svg>
            </div>
            <div class="div-per-2">
                <svg viewbox="0 0 36 36" class="circular-chart">
                    <path class="circle circle-2" stroke-dasharray="45, 100" d="M18 2.0845
                        a 15.9155 15.9155 0 0 1 0 31.831
                        a 15.9155 15.9155 0 0 1 0 -31.831" />
                </svg>
            </div>
            <div class="div-circle-point" id="div-circle-point">
                <div class="reg-point" id="reg">
                    <div class="the-point"></div>
                </div>
                <div class="info-condition">
                    <h4 class="h4-deg-condition">25&#176;</h4>
                    <p>current 20&#176;</p>
                    <p>Rh-60%</p>
                    <p class="p-room">Living room</p>
                    <div class="div-line"></div>
                    <img src="img/1-512.png" height="512" width="512"/>
                </div>


            </div>
        </div>
        <div class="div-welcom-home">
            <h3 class="h3-welcom">Welcom Home Ival</h3>
            <p class="p-tittle">Front door unlocked.</p>
            <p class="p-number">4 light on</p>
            <p>and 2 more...</p>
        </div>

        <div class="div-favorite-scences">
            <h4>Favorite-scences</h4>
            <div class="div-content-item-scences">
                <div class="some-item-scences active">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home</p>
                </div>

                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home Back home</p>
                </div>

                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home</p>
                </div>
                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home</p>
                </div>

                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home Back home</p>
                </div>

                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home</p>
                </div>

                <div class="some-item-scences">
                    <img class="on" src="img/Scene/BackHome.png" height="52" width="52"/>
                    <img class="off" src="img/Scene/BedTime.png" height="52" width="52"/>
                    <p>Back home Back home</p>
                </div>
            </div>
            <div class="clear-both"></div>
        </div>

        <div class="div-favorite-accessories">
            <h4>Favorite accessories</h4>
            <div class="div-content-item-accessories">
                <div class="item-accessories item-lamp active">
                    <img class="on" src="img/House Hold/chandeliers.png" />
                    <img class="off" src="img/House Hold/Lamp.png" />
                    <p class="p-off">Off</p>
                    <p class="p-on">50%</p>
                    <h6 class="p-tittle">Lamp</h6>
                </div>

                <div class="item-accessories item-tivi active">
                    <img class="on" src="img/House Hold/chandeliers.png" />
                    <img class="off" src="img/House Hold/Lamp.png" />
                    <p class="p-off">Off</p>
                    <p class="p-on">On</p>
                    <h6 class="p-tittle">Tivi</h6>
                </div>

                <div class="item-accessories active">
                    <img class="on" src="img/House Hold/chandeliers.png" />
                    <img class="off" src="img/House Hold/Lamp.png" />
                    <p class="p-off">Off</p>
                    <p class="p-on">50%</p>
                    <h6 class="p-tittle">Lamp</h6>
                </div>
                <div class="item-accessories ">
                    <img class="on" src="img/House Hold/chandeliers.png" />
                    <img class="off" src="img/House Hold/Lamp.png" />
                    <p class="p-off">Off</p>
                    <p class="p-on">50%</p>
                    <h6 class="p-tittle">Lamp</h6>
                </div>

                <div class="item-accessories active">
                    <img class="on" src="img/House Hold/chandeliers.png" />
                    <img class="off" src="img/House Hold/Lamp.png" />
                    <p class="p-off">Off</p>
                    <p class="p-on">50%</p>
                    <h6 class="p-tittle">Lamp</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="taskbar">
        <div class="div-blur" style="background-image: url('img/background/background.jpg');">

        </div>
        <div class="center-align">
            <div class="div-icon-taskbar">
                <a href="#"><img src="img/Tabbar/HOME.png" /></a>
            </div>
            <div class="div-icon-taskbar">
                <a href="#"><img src="img/Tabbar/noti.png"/></a>
            </div>
            <div class="div-icon-taskbar">
                <a href="#"><img src="img/Tabbar/HOME.png" /></a>
            </div>
            <div class="div-icon-taskbar">
                <a href="#"><img src="img/Tabbar/noti.png"/></a>
            </div>
            <div class="div-icon-taskbar">
                <a href="#"><img src="img/Tabbar/HOME.png" /></a>
            </div>
        </div>
    </div>
    <div class="div-bgc-opa"></div>
    <div class="div-control-tivi div-control-accesories">
        <div class="div-control-menu">
            <div class="div-tittle-tivi">
                <div class="div-name-tivi">
                    <p> <img align="middle" src="img/Light/Lamp.png" height="40" width="40"/>
                    Tivi phòng khách</p>
                </div>
                <div class="div-on-off-tivi">
                    <i class="fas fa-power-off"></i>
                </div>
                <div class="clear-both"></div>
            </div>

            <div class="div-large-circle">
                <div class="div-small-circle"></div>
                <i class="fas fa-chevron-up"></i>
                <i class="fas fa-chevron-down"></i>
                <i class="fas fa-chevron-left"></i>
                <i class="fas fa-chevron-right"></i>
            </div>
            <div class="div-some-control">
                <div class="div-back-control">Back</div>
                <div class="div-menu-control">Menu</div>
                <div class="div-updown updown-volume">
                    <i class="fas fa-chevron-up"></i>
                    <i class="fas fa-chevron-down"></i>
                    <div class="div-volume div-middle">Vol</div>
                </div>
                <div class="div-updown updown-prog">
                    <i class="fas fa-chevron-up"></i>
                    <i class="fas fa-chevron-down"></i>
                    <div class="div-prog div-middle">Prog</div>
                </div>
            </div>
        </div>
        <div class="div-control-number">
            <div class="div-total-number">
                <div class="div-number">1</div>
                <div class="div-number">2</div>
                <div class="div-number">3</div>
                <div class="div-number">4</div>
                <div class="div-number">5</div>
                <div class="div-number">6</div>
                <div class="div-number">7</div>
                <div class="div-number">8</div>
                <div class="div-number">9</div>
                <div class="div-number number0">0</div>
            </div>
        </div>

    </div>

    <div class="div-control-lamp div-control-accesories">   <!-- DEN -->
        <div class="tittle-accsesories">
            <p class="name-acces-control">Điều khiển đèn</p>
            <p class="p-close-acces-control">Đóng</p>
            <div class="clear-both"></div>
        </div>
        <div class="div-name-accesories">
            <p class="p-name-accses">
                <img align="middle" src="img/Light/DenTha.png" />
                Đèn thả
            </p>
            <div class="div-toggle-checkbox">
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="clear-both"></div>
        </div>
        <div class="content-bright-lamp">
            <input class="brightness-lamp" type="range" value="">
            <div class="div-percent-bright">
                80  %
            </div>
            <div class="clear-both"></div>
        </div>
    </div>      <!-- DEN -->
</body>
<script>
    $(document).ready(function () {
        $('.some-item-scences').click(function () {
            $('.some-item-scences').not(this).removeClass('active');
            $(this).toggleClass('active');
        });

        $('.item-accessories').click(function () {
           $(this).toggleClass('active');
        });

        //Hide tivi control

        $('.item-tivi').click(function () {
            $('.div-control-tivi').animate({left: 0}, 400);
            $('.div-bgc-opa').show();
            $(this).toggleClass('active');
        });
        $('.div-on-off-tivi').click(function () {
            $('.item-tivi').toggleClass('active');
        });

        // DEN
        var old_bri = $('.brightness-lamp').val();
        $('.div-percent-bright').text(old_bri+"%");

        $('.brightness-lamp').click(function () {
            var val = $(this).val();
            $('.div-percent-bright').text(val+"%");
        });

        $('.brightness-lamp').on('touchstart', function(e){
            var bri_this = $(this);
            var handlers = {
                touchmove : function(e){
                    var bright = bri_this.val();
                    $('.div-percent-bright').text(bright+"%");
                },
                touchend : function(e){
                    $(this).off(handlers);
                }
            };
            $(document).on(handlers);
        });

        $('.p-close-acces-control').click(function () {
            $('.div-bgc-opa').hide();
            $('.div-control-lamp').animate({bottom: '-100%'}, 400);
        });

        $('.item-lamp').on('touchstart',function (e) {
            var val = 0;
            setint = setInterval(function () {
                val = val +1;
                if(val > 3){
                    $('.div-bgc-opa').show();
                    $('.div-control-lamp').animate({bottom: 0}, 400);
                }
            },200);
        });
        $('.item-lamp').on("touchend", function () {
            clearInterval(setint);
        });

        $(document).on('click', '.div-bgc-opa', function () {
            $(this).hide();
            $('.div-control-tivi').animate({left: '-100%'}, 400);
            $('.div-control-lamp').animate({bottom: '-100%'}, 400);
        });

        var circle1 = $('.div-circle-point');
            picker1 = $('.reg-point');
            pickerCircle1 = $('.the-point');

        rotate1 = function(x, y){
            var deltaX = x - 879;
            deltaY = y - 345;
            if(deltaY > 70){
                return;
            }
            angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI
            return angle
        };

        $('.the-point').on('touchstart', function (event) {
            var handlers = {
                touchmove : function (e) {
                    // $( "#log" ).text( "pageX: " + e.originalEvent.touches[0].pageX + ", pageY: " + e.originalEvent.touches[0].pageY );
                    $('.reg-point').css('transform', 'rotate(' + rotate(e.originalEvent.touches[0].pageX, e.originalEvent.touches[0].pageY) + 'deg)')
                },
                touchend : function (e) {
                    $(this).off(handlers);
                }
            };
            $(document).on(handlers);
        });
    });


    // var circle = document.getElementById('div-circle-point'),
    //     picker = document.getElementById('reg'),
    //     pickerCircle = picker.firstElementChild,
    //     // rect = circle.getBoundingClientRect(),
    //     //
    //     // center = {
    //     //     x: rect.left + rect.width / 2,
    //     //     y: rect.top + rect.height / 2
    //     // },
    //
    //     transform = (function(){
    //         var prefs = ['t', 'WebkitT', 'MozT', 'msT', 'OT'],
    //             style = document.documentElement.style,
    //             p
    //         for(var i = 0, len = prefs.length; i < len; i++){
    //             if( (p = prefs[i] + 'ransform') in  style ) return p
    //         }
    //
    //         alert('your browser doesnt support css transforms!')
    //     })(),
    //
    //     rotate = function(x, y){
    //         var deltaX = x - 879;
    //         deltaY = y - 345;
    //         if(deltaY > 70){
    //             return;
    //         }
    //         angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI
    //         return angle
    //     },
    //
    //     // DRAGSTART
    //     mousedown = function(event){
    //         event.preventDefault()
    //         mousemove(event)
    //         document.addEventListener('mousemove', mousemove)
    //         document.addEventListener('mouseup', mouseup)
    //     },
    //
    //     // DRAG
    //     mousemove = function(event){
    //
    //         picker.style[transform] = 'rotate(' + rotate(event.pageX, event.pageY) + 'deg)'
    //     },
    //
    //     // DRAGEND
    //     mouseup = function(){
    //         document.body.style.cursor = null;
    //         document.removeEventListener('mouseup', mouseup)
    //         document.removeEventListener('mousemove', mousemove)
    //     }
    //
    // // DRAG START
    // pickerCircle.addEventListener('mousedown', mousedown)
    //
    // // ENABLE STARTING THE DRAG IN THE BLACK CIRCLE
    // // circle.addEventListener('mousedown', function(event){
    // //     if(event.target == this) mousedown(event)
    // //
    // // })


</script>
</html>